{
  "name": "jsonrpc",
  "version": "0.1.1",
  "main": "./jsonrpc",
  "readme": "node-jsonrpc\n============\n\nThis module makes it easy to process and respond to JSON-RPC (v1.0) messages.\n\nJSON-RPC is an extremely simple format to communicate between the client (for example browser) and the host (server).\nIt's an easy way to run functions server side by providing the server the function name that needs to be executed and the params alongside with it.\nServer runs this function and returns the results for it.\n\nIllustrating pseudocode\n\n    --> RUN FUNCTION \"add_comment\" WITH \"user\", \"this is cool!\"\n    <-- RETURN add_comment(\"user\", \"this is cool\")\n    \n\nYou can find the full JSON-RPC specification [here](http://json-rpc.org/wiki/specification \"RPC 1.0 Specification\").\n\n\nInstallation\n------------\n\nYou can install this package through npm\n\n    npm install jsonrpc\n    \nAfter this you can require the RPCHandler with\n\n    var rpc = require(\"jsonrpc\").RPCHandler;\n\n\nServer side node.JS\n-------------------\n\nMain handler for the RPC request is jsonrpc.RPCHandler - this is a constructor function that handles the RPC request all the way to the final output. You don't have to call response.end() for example, this is done by the handler object.\n\n    var RPCHandler = require(\"jsonrpc\").RPCHandler;\n    new RPCHandler(request, response, RPCMethods, debug=false);\n    \nRPChandler construtor takes the following parameters\n    \n - request: http.ServerRequest object\n - rsponse: http.ServerResponse object\n - RPCMethods: object that holds all the available methods\n       RPCMethods: {\n           method_name: function(rpc){\n               rpc.response(\"hello world!\");\n           }\n       }\n   NB! method names that start with an underscore are private!\n - debug (optional) boolean value indicating if real error messages\n   should be used in case of runtime errors\n\n*Example script*\n\nServer accepts method calls for \"check\" - this method checks if the two used parameters are equal or not.\n\n    var http = require(\"http\"),\n        RPCHandler = require(\"jsonrpc\").RPCHandler;\n\n    // start server\n    http.createServer(function (request, response) {\n        if(request.method == \"POST\"){\n            // if POST request, handle RPC\n            new RPCHandler(request, response, RPCMethods, true);\n        }else{\n            // if GET request response with greeting\n            response.end(\"Hello world!\");\n        }\n    }).listen(80);\n\n    // Available RPC methods\n    RPCMethods = {\n        // NB! private method names are preceeded with an underscore\n        check: function(rpc, param1, param2){\n            if(param1!=param2)\n                rpc.error(\"Params doesn't match!\");\n            else\n                rpc.response(\"Params are OK!\");\n        },\n        _private: function(){\n            // this method can't be accessed from the public interface\n        }\n    }\n\nCliend side JavaScript\n----------------------\n\nTo send a RPC call to the server, the message needs to be sent as the request body. This can't be done with forms (as form data is urlencoded etc.) but can be done with AJAX calls.\n\n#### Request message formatting:\n\n    {\n        \"method\": \"method name to run\",\n        \"params\": [\"array\", \"of\", \"params\"],\n        \"id\":     \"id value (optional)\"\n    }\n\nIf `id` value is not set, then server takes this as a notification and return nothing (output is empty).\nParameter values are given to the RPC method as regular variables in the same order they are set in the array:\n\n    \"params\": [\"val1\", \"val2\", \"val3\"]\n    \nWill be used as\n\n    method = function(rpc, param1, param2, param3){\n        console.log(param1); //val1\n        console.log(param2); //val2\n        console.log(param3); //val3\n    }\n\nThe first parameter passed to the method is the RPCHandler object. It has two public methods - `response` and `error`.\n\n    rpc.response(\"This is the normal response output\");\n    rpc.error(\"This is the output in case of error\");\n\nAfter you send the response (be it either `response` or `error` the http.ServerResponse connection is closed so you can't do much after it.\n\n#### Server response\n\n    {\n        \"result\": \"some kind of output, or null id error occured\",\n        \"error\" : \"null or an error message\",\n        \"id\"    : \"the same id value that was used wit the request\"\n    }\n\n`result` can be any type (string, number, boolean, object, array).\n\nFor example if we need to run a RPC method named \"check\" with params \"value\" and \"other\" then we can do it like this (using Prototype library):\n\n    new Ajax.Request(\"/path/to/rpc\",{\n        method: \"post\",\n        postBody: Object.toJSON(\n            {\n                method: \"check\",\n                params: [\"value\",\"other\"],\n                id:     1\n            }),\n        onComplete: function(response){\n            var r = response.responseText.evalJSON();\n            if(r.error)\n                alert(\"ERROR: \"+r.error);\n            else\n                alert(\"OK: \"+r.result);\n        }\n    });\n\nSample message traffic\n----------------------\n\n    --> {method:\"check\", params: [\"value\", \"other\"], id: 1}\n    <-- {result:null, error:\"Params doesn't match!\", id: 1}\n\n    --> {method:\"check\", params: [\"value\", \"value\"], id: 2}\n    <-- {result:\"Params are OK!\", error:null, id: 2}\n",
  "readmeFilename": "README.md",
  "description": "node-jsonrpc ============",
  "_id": "jsonrpc@0.1.1",
  "dist": {
    "shasum": "9b522e7127e860075389e6a28b2cd5712de1e006"
  },
  "_from": "jsonrpc@",
  "_resolved": "https://registry.npmjs.org/jsonrpc/-/jsonrpc-0.1.1.tgz"
}
